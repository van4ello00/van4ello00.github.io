var embed=function(){function _popup(url,title,w,h,scrollbars){var left=0,top=0;w=w||1024,h=h||720,scrollbars=scrollbars||"yes",left=screen.width/2-w/2,top=screen.height/2-h/2,window.open(url,title,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars="+scrollbars+", resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left)}function _shareFB(url){return url="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(url),_popup(url,"facebook-dialog",626,436,!1),!1}function _shareTwitter(url,text,via){return url="https://twitter.com/share?url="+encodeURIComponent(url)+"&text="+encodeURIComponent(text),via&&(url+="&via=snapwidget"),_popup(url,"twitter-tweet-dialog",575,350,!1),!1}function _sharePinterest(url,text,image){return url="http://pinterest.com/pin/create/button/?url="+encodeURIComponent(url)+"&media="+encodeURIComponent(image)+"&description="+encodeURIComponent(text),_popup(url,"pinterest-dialog",575,350,!1),!1}function _imageError(el,size,id){var rand=Math.floor(40*Math.random()+1);el.onerror=null,el.src="/images/imageerrors/image"+rand+".jpeg?v=1",_imageNotFound(id)}function _lightBox(type,id,carouselIndex){parent.postMessage({action:"lightbox",type:type,id:id,media:SnapWidget.media,carouselIndex:carouselIndex},"*")}function _imageNotFound(id){ga&&ga("snapwidget.send","event","Error","Image Not Found",window.location.href)}function _carouselNavigate(index,step){var element=document.getElementById("mediaImageWrapper-"+index),navigationPrevious=document.getElementById("carouselNavigatePrevious-"+index),navigationNext=document.getElementById("carouselNavigateNext-"+index),currentCarouselIndex=parseInt(element.getAttribute("data-carousel-index")),itemCount=parseInt(element.getAttribute("data-carousel-count"));currentCarouselIndex+=step,currentCarouselIndex=currentCarouselIndex<1?1:currentCarouselIndex,currentCarouselIndex=currentCarouselIndex>itemCount?itemCount:currentCarouselIndex,1===currentCarouselIndex?(navigationPrevious.classList.add("hidden"),navigationNext.classList.remove("hidden")):currentCarouselIndex===itemCount?(navigationPrevious.classList.remove("hidden"),navigationNext.classList.add("hidden")):(navigationPrevious.classList.remove("hidden"),navigationNext.classList.remove("hidden")),element.setAttribute("data-carousel-index",currentCarouselIndex);for(var i=0,l=element.classList.length;i<l;++i)if(/manual-slide-.*/.test(element.classList[i])){element.classList.remove(element.classList[i]);break}element.classList.add("manual-slide-"+currentCarouselIndex)}function _getCarouselIndex(){return currentCarouselIndex}function _navigated(direction){"previous"===direction&&(history.go(-1),event.preventDefault()),parent.postMessage({action:"snapwidget-navigated",direction:direction},"*")}return{popup:_popup,shareFB:_shareFB,shareTwitter:_shareTwitter,sharePinterest:_sharePinterest,imageError:_imageError,lightBox:_lightBox,carouselNavigate:_carouselNavigate,getCarouselIndex:_getCarouselIndex,navigated:_navigated}}();